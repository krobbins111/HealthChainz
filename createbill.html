<!DOCTYPE HTML>
<head>
  <title>Create Bill</title>
  <link rel="stylesheet" type="text/css" href="create.css">
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
  <div class="content">
    <nav class="header">
      <a class="logo">BlockRX</a>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href=#>My Account</a></li>
        <li><a href=#>About</a></li>
      </ul>
    </nav>
    <div class="enter-content">
      <center>
        <h1>Create Bill</h1>
      </center>
        <center>
        <table id="info-table">
        <tr>
          <th>Patient No.</th>    
          <th>Service</th>
          <th>Description</th>
          <th>Cost</th>  
        </tr>    
        <tr>
            <td><input type="text" id="patientNo" name="Access Key" placeholder="Patient No. E.g 8888888"></td>
            <td><input type="text" id="service" name="Access Key" placeholder="Service"></td>
            <td><input type="text" id="description" name="Access Key" placeholder="Description"></td>
            <td><input type="text" id="price" name="Access Key" placeholder="Cost"></td>
        </tr> 
        </table>
      </center>
        <center>
        <button align="middle" type="submit" id = "add">Add</button>
        <br>
        <button align="middle" type="submit" id = "finish">Submit</button>
      </center>
      <div class="container">
          <table class="table table-bordered table-striped table-hover">
            <thead>
                  <tr>
                    <th>Patient No.</th>    
                    <th>Service</th>
                    <th>Description</th>
                    <th>Cost</th>  
                  </tr>   
                </thead>
                <tbody></tbody> 
                </table>
                <script>
                
                      
                    </script>
    </div>
    </div>
    </body>
    <script>
  src="http://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
        function exportData(){
           var jqxhr = $.post( "/sendbill", billinfo, function(data) {
               console.log(data);
                  console.log( "success " + data );
                })
                  .fail(function(data) {
                    console.log( "error "  + data);
                  });
            
        }
        var billInfo = [];
        function retreiveData(){
            var patientn = document.getElementById("patientNo").value;
            var serv = document.getElementById("service").value;
            var desc = document.getElementById("description").value;
            var pri = document.getElementById("price").value;
            var billItem = {service:serv, description:desc,price:pri};
            var access = patientn;
            var object = {billinfo:billItem, accessKey:access};
            billInfo.push(object);
            console.log(billInfo);
          
        }      
            
        document.getElementById("add").onclick = function() {retreiveData()};
        document.getElementById("finish").onclick = function() {exportData()};
    </script>

